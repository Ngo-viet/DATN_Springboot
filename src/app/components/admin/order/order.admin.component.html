
<h1>Trang ADMIN ORDER</h1>


<div class="pagetitle">
  <h1>Đơn hàng</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item">Tables</li>
      <li class="breadcrumb-item active">General</li>
    </ol>
  </nav>
</div><!-- End Page Title -->

<section class="section">
  <div class="row">
    <div class="col-lg-6">

      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Danh sách đơn hàng</h5>

          <!-- Default Table -->
          <table class="table">
            <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">User ID</th>
              <th scope="col">Tên đầy đủ</th>
              <th scope="col">Email</th>
              <th scope="col">Phone Number</th>
              <th scope="col">Địa chỉ</th>
              <th scope="col">Note</th>
              <th scope="col"> Thời Gian</th>
              <th scope="col">Trạng thái</th>
              <th scope="col">Tổng tiền</th>
              <th scope="col">Hành động</th>
            </tr>
            </thead>
            <tbody>
              @for(order of orders; track order.id){
                <tr>
                  <td>
                    {{ order.id }}</td>
                  <td>{{ order.user_id }}</td>
                  <td>{{ order.fullname }}</td>
                  <td>{{ order.email }}</td>
                  <td>{{ order.phone_number }}</td>
                  <td>{{ order.address }}</td>
                  <td>{{ order.note }}</td>
                  <td>{{ order.order_date | date }}</td>
                  <td>{{ order.status }}</td>
                  <td>{{ order.total_money }}</td>
                  <!--
                  <td>{{ order.shipping_method }}</td>
                  <td>{{ order.shipping_address }}</td>

                  <td>{{ order.shipping_date | date }}</td>
                  <td>{{ order.payment_method }}</td>
                  -->
                  <td>
                    <div style="display: flex; gap: 10px;">
                      <button
                        (click)="viewDetails(order)"
                        class="btn btn-primary">
                        View Details
                      </button>
                      <button class="btn btn-danger"
                              (click)="deleteOrder(order.id)"
                      >Delete</button>
                    </div>
                  </td>
                </tr>
              }


            </tbody>
          </table>
          <!-- End Default Table Example -->
        </div>
      </div>


    </div>
  </div>
</section>


<div class="d-flex justify-content-center mt-2">
  <nav aria-label="Page navigation">
    <ul class="pagination">
      <li class="page-item" *ngIf="currentPage > 1">
        <a class="page-link"  (click)="onPageChange(1)">First</a>
      </li>
      <li class="page-item" *ngIf="currentPage > 1">
        <a class="page-link"  (click)="onPageChange(currentPage - 1)">Previous</a>
      </li>
      <ng-container *ngFor="let page of visiblePages">
        <li class="page-item" [ngClass]="{'active': page === currentPage}">
          <a class="page-link"  (click)="onPageChange(page)">{{ page }}</a>
        </li>
      </ng-container>
      <li class="page-item" *ngIf="currentPage < totalPages">
        <a class="page-link"  (click)="onPageChange(currentPage + 1)">Next</a>
      </li>
      <li class="page-item" *ngIf="currentPage < totalPages">
        <a class="page-link"  (click)="onPageChange(totalPages)">Last</a>
      </li>
    </ul>
  </nav>
</div>
